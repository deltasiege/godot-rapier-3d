{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome","text":""},{"location":"#what-is-this","title":"What is this?","text":"<p>A GDExtension that enables the Rapier physics engine within Godot.</p> <p>It is not a drop-in replacement for the Godot physics engine. Rapier nodes operate separately from Godot physics.</p>"},{"location":"#why-does-this-exist","title":"Why does this exist?","text":"<p>TLDR - For creating rollback based multiplayer games in Godot</p> <p>Godot is currently missing these features:</p> <ul> <li>physics snapshotting</li> <li>on-demand physics simulation</li> <li>cross-platform physics determinism</li> </ul> <p>Each of these features are required to implement a rollback networking system in a multiplayer game that uses physics.</p> <p>Luckily, Godot 4 provides a great extension system that allows us to integrate Rapier, which is a physics engine that has these features \ud83d\ude80</p>"},{"location":"#where-to-next","title":"Where to next?","text":"<ul> <li>Quickstart</li> <li>Manual stepping</li> <li>Snapshotting</li> <li>Is GR3D actually deterministic? Prove it!</li> </ul>"},{"location":"contributing/","title":"Contributing","text":""},{"location":"contributing/#requirements","title":"Requirements","text":"<ul> <li>Godot 4.2.2+</li> <li>Rust 1.27.0+</li> </ul>"},{"location":"contributing/#tech-stack","title":"Tech stack","text":"<ul> <li>Godot Engine</li> <li>Rapier</li> <li>godot-rust (Rust bindings for GDExtension)</li> </ul>"},{"location":"contributing/#guidelines","title":"Guidelines","text":"<ul> <li>Follow semver when releasing new versions</li> <li>If functionality doesn't need to directly interact with Rapier and doesn't need to be optimized, prefer writing it in GDScript</li> <li>Any mutations to the Rapier pipeline need to be fed through the action queue in order to ensure determinism</li> </ul>"},{"location":"contributing/#development-quickstart","title":"Development quickstart","text":"<ol> <li>Open this project in Godot</li> <li>Make edits as desired</li> <li>Run <code>cargo build</code> in the <code>/addons/godot-rapier-3d/rust</code> directory</li> <li>The extension should automatically reload when Godot is refocused</li> </ol>"},{"location":"contributing/#bugs","title":"Bugs","text":"<p>Please raise an issue and provide reproducible steps or a minimal reproduction project, which is a small Godot project which reproduces the issue, with no unnecessary files included.</p>"},{"location":"determinism/","title":"Determinism","text":"<p>Determinism diffs are uploaded with each release by the Github Actions workflow</p> <p>Download the latest diffs</p> <p>These are obtained by hashing the entire physics simulation each frame on 2 different machines, and then comparing the hashes.</p> <p>In theory, every hash should always match, even across different OSes &amp; CPU architectures</p>"},{"location":"determinism/#currently-tested-targets","title":"Currently tested targets","text":"<p>Each target is compared to every other target</p> Linux Windows MacOS x86_64-unknown-linux-gnu x86_64-pc-windows-msvc aarch64-apple-darwin aarch64-unknown-linux-gnu"},{"location":"quickstart/","title":"Quickstart","text":""},{"location":"quickstart/#requirements","title":"Requirements","text":"<ul> <li>Godot 4.4 or later</li> </ul>"},{"location":"quickstart/#beware-of-limitations","title":"Beware of limitations","text":"<ul> <li>Web &amp; mobile builds are not yet stable (godot-rust)</li> <li><code>rv64</code>, <code>ppc64</code> and <code>ppc32</code> architectures are not yet confirmed for determinism via automated testing because they are not yet officially supported by Godot</li> </ul>"},{"location":"quickstart/#lets-go","title":"Let's go","text":""},{"location":"quickstart/#installation","title":"Installation","text":"<ol> <li>Download the latest --all release</li> <li>Extract the release archive into your godot project's root directory</li> </ol>"},{"location":"quickstart/#add-a-rigid-body","title":"Add a rigid body","text":"<ol> <li>Add a RapierRigidBody3D node to your scene</li> <li> <p>Add 3 child nodes as children of the rigid body:</p> <ul> <li>RapierCollisionShape3D</li> <li>MeshInstance3D</li> <li>CollisionShape3D</li> </ul> </li> <li> <p>Assign the CollisionShape3D as the <code>shape</code> field on the RapierCollisionShape3D node</p> </li> <li>Enable <code>Debug</code> -&gt; <code>Visible Collision Shapes</code></li> <li>Run your game</li> </ol> <p>Your physics objects should simulate! \ud83c\udf89</p>"},{"location":"roadmap/","title":"Roadmap","text":""},{"location":"roadmap/#roadmap","title":"Roadmap","text":"<p>This extension is currently under heavy development, compatibility when upgrading versions is not assured until 1.0.0</p>"},{"location":"roadmap/#priority","title":"Priority","text":"<ul> <li>\u2714\ufe0f Collision shapes</li> <li>\u2714\ufe0f Snapshots</li> <li>\u2714\ufe0f Stepping</li> <li>\u2714\ufe0f Determinism automated testing</li> <li>\u2714\ufe0f Character controllers</li> <li>\u23f3 Apply forces / impulse to rigidbodies</li> <li>\u23f3 Collision layers</li> <li>\u23f3 Add to Godot asset library</li> </ul>"},{"location":"roadmap/#nice-to-have","title":"Nice to have","text":"<ul> <li>\u23f3 Simulate in editor</li> <li>\u23f3 Save/load snapshots to/from resource files</li> <li>\u23f3 Descriptions</li> </ul>"},{"location":"snapshotting/","title":"Snapshotting","text":""},{"location":"snapshotting/#save","title":"Save","text":"<pre><code>var my_snapshot: PackedByteArray = GR3D.get_snapshot()\n</code></pre>"},{"location":"snapshotting/#restore","title":"Restore","text":"<pre><code>GR3D.restore_snapshot(my_snapshot)\n</code></pre>"},{"location":"stepping/","title":"Manual stepping","text":""},{"location":"stepping/#advance-physics-1-frame","title":"Advance physics 1 frame","text":"<pre><code>GR3D.step(1)\n</code></pre>"},{"location":"stepping/#pause-play","title":"Pause / play","text":"<pre><code>GR3D.pause()\nGR3D.play()\n</code></pre>"}]}